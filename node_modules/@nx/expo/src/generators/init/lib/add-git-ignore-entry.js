"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addGitIgnoreEntry = addGitIgnoreEntry;
const devkit_1 = require("@nx/devkit");
const gitignore_entries_1 = require("./gitignore-entries");
function addGitIgnoreEntry(host) {
    if (!host.exists('.gitignore')) {
        devkit_1.logger.warn(`Couldn't find .gitignore file to update`);
        return;
    }
    let content = host.read('.gitignore')?.toString('utf-8').trimEnd();
    if (!/\.expo\/$/gm.test(content)) {
        content = `${content}\n${gitignore_entries_1.gitIgnoreEntriesForExpo}\n`;
    }
    host.write('.gitignore', content);
}
